{
  "@context": [
    "https://www.w3.org/ns/prov-o.jsonld",
    "https://litlfred.github.io/notebooks/schema/ontology/context.jsonld"
  ],
  "@id": "urn:notebook:example-weierstrass-workflow",
  "@type": ["prov:Entity", "notebook:Notebook"],
  "dct:title": "Weierstrass Function Analysis with p=5, q=7",
  "dct:description": "Complete mathematical workflow demonstrating PQ-Torus lattice parameters flowing into Weierstrass function visualizations",
  "dct:created": "2024-01-15T10:30:00Z",
  "dct:modified": "2024-01-15T12:15:00Z",
  "notebook:layout": {
    "grid_size": 20,
    "canvas_size": {"width": 2000, "height": 1500}
  },
  "@graph": [
    {
      "@id": "urn:widget:pq-torus-1",
      "@type": ["prov:Entity", "pqt:widget"],
      "dct:conformsTo": "https://litlfred.github.io/notebooks/schema/pq-torus/widget.schema.json",
      "widget:instanceId": "pq-torus-1",
      "widget:position": {"x": 100, "y": 100},
      "widget:size": {"width": 300, "height": 250},
      "widget:title": "Prime Lattice Parameters",
      "prov:value": {
        "p": 5,
        "q": 7,
        "metadata": {
          "created": "2024-01-15T10:30:00Z",
          "last_executed": "2024-01-15T10:45:00Z"
        }
      },
      "widget:note": {
        "visible": true,
        "content": "# Prime Lattice Definition\n\nThis widget defines the torus **T = ℂ / L** where **L = ℤp + ℤqi**.\n\n**Current Parameters:**\n- p = {{widget:pq-torus-1:p}} (prime: {{widget:pq-torus-1:p_is_prime}})\n- q = {{widget:pq-torus-1:q}} (prime: {{widget:pq-torus-1:q_is_prime}})\n\n**Lattice Properties:**\n- Fundamental domain area: {{widget:pq-torus-1:area}}\n- Lattice type: Rectangular prime lattice\n- Last computed: {{widget:pq-torus-1:last_executed}}"
      }
    },
    {
      "@id": "urn:activity:pq-torus-computation-1",
      "@type": ["prov:Activity"],
      "prov:used": "urn:widget:pq-torus-1",
      "prov:generated": "urn:output:pq-torus-1",
      "prov:startedAtTime": "2024-01-15T10:45:00Z",
      "prov:endedAtTime": "2024-01-15T10:45:02Z",
      "widget:action": "compute-lattice"
    },
    {
      "@id": "urn:output:pq-torus-1",
      "@type": ["prov:Entity", "pqt:output"],
      "dct:conformsTo": "https://litlfred.github.io/notebooks/schema/pq-torus/output.schema.json",
      "prov:wasGeneratedBy": "urn:activity:pq-torus-computation-1",
      "prov:value": {
        "p": 5,
        "q": 7,
        "p_is_prime": true,
        "q_is_prime": true,
        "area": 35,
        "lattice_basis": [
          [5, 0],
          [0, 7]
        ],
        "mathematical_properties": {
          "torus_equation": "T = ℂ / (ℤ5 + ℤ7i)",
          "fundamental_domain": "Rectangle with sides 5 and 7",
          "lattice_discriminant": 35
        }
      }
    },
    {
      "@id": "urn:widget:weierstrass-two-panel-1",
      "@type": ["prov:Entity", "weier:two-panel"],
      "dct:conformsTo": "https://litlfred.github.io/notebooks/schema/pq-torus/weierstrass/two-panel/widget.schema.json",
      "widget:instanceId": "weierstrass-two-panel-1",
      "widget:position": {"x": 450, "y": 100},
      "widget:size": {"width": 400, "height": 300},
      "widget:title": "℘(z) and ℘'(z) Visualization",
      "widget:parentWidget": "urn:widget:pq-torus-1",
      "prov:wasDerivedFrom": "urn:output:pq-torus-1",
      "prov:value": {
        "p": 5,
        "q": 7,
        "plot_resolution": 200,
        "color_scheme": "viridis",
        "show_poles": true,
        "contour_lines": 20
      },
      "widget:note": {
        "visible": true,
        "content": "# Weierstrass ℘-Function Two-Panel Plot\n\nVisualizing the elliptic function ℘(z) and its derivative ℘'(z) over the lattice L = ℤ{{widget:pq-torus-1:p}} + ℤ{{widget:pq-torus-1:q}}i.\n\n**Function Properties:**\n- Lattice parameters: p={{widget:pq-torus-1:p}}, q={{widget:pq-torus-1:q}}\n- Resolution: {{widget:weierstrass-two-panel-1:plot_resolution}} points\n- Status: {{widget:weierstrass-two-panel-1:status}}\n\n**Mathematical Context:**\nThe Weierstrass ℘-function is doubly periodic with periods forming the lattice L. It satisfies the differential equation:\n\n℘'(z)² = 4℘(z)³ - g₂℘(z) - g₃\n\nwhere g₂ and g₃ are lattice invariants computed from the prime parameters."
      }
    },
    {
      "@id": "urn:widget:weierstrass-five-panel-1",
      "@type": ["prov:Entity", "weier:five-panel"],
      "dct:conformsTo": "https://litlfred.github.io/notebooks/schema/pq-torus/weierstrass/five-panel/widget.schema.json",
      "widget:instanceId": "weierstrass-five-panel-1",
      "widget:position": {"x": 100, "y": 400},
      "widget:size": {"width": 600, "height": 400},
      "widget:title": "Complete ℘-Function Analysis",
      "widget:parentWidget": "urn:widget:pq-torus-1",
      "prov:wasDerivedFrom": "urn:output:pq-torus-1",
      "prov:value": {
        "p": 5,
        "q": 7,
        "analysis_depth": "complete",
        "include_derivatives": true,
        "show_critical_points": true,
        "field_visualization": true
      },
      "widget:note": {
        "visible": false,
        "content": "# Complete Weierstrass Function Analysis\n\n**Five-Panel Breakdown:**\n1. **℘(z)** - Main function visualization\n2. **Re(℘'(z))** - Real part of derivative  \n3. **Im(℘'(z))** - Imaginary part of derivative\n4. **|℘'(z)|** - Magnitude of derivative\n5. **Field Lines** - Vector field representation\n\n**Critical Analysis:**\n- Zeros of ℘'(z): Located at lattice half-periods\n- Poles: At lattice points\n- Branch cuts: Connecting poles to zeros\n- Lattice symmetry: Preserved under translations by L"
      }
    },
    {
      "@id": "urn:widget:weierstrass-trajectories-1", 
      "@type": ["prov:Entity", "weier:trajectories"],
      "dct:conformsTo": "https://litlfred.github.io/notebooks/schema/pq-torus/weierstrass/trajectories/widget.schema.json",
      "widget:instanceId": "weierstrass-trajectories-1",
      "widget:position": {"x": 750, "y": 400},
      "widget:size": {"width": 350, "height": 300},
      "widget:title": "Particle Trajectories in ℘-Field",
      "widget:parentWidget": "urn:widget:pq-torus-1",
      "prov:wasDerivedFrom": "urn:output:pq-torus-1",
      "prov:value": {
        "p": 5,
        "q": 7,
        "particle_count": 50,
        "integration_time": 10.0,
        "initial_conditions": "random_grid",
        "force_field": "wp_derivative"
      },
      "widget:note": {
        "visible": true,
        "content": "# Particle Trajectories\n\nSimulating particle motion in the force field defined by ℘'(z).\n\n**Simulation Parameters:**\n- Particles: {{widget:weierstrass-trajectories-1:particle_count}}\n- Integration time: {{widget:weierstrass-trajectories-1:integration_time}}s\n- Initial distribution: {{widget:weierstrass-trajectories-1:initial_conditions}}\n\n**Physics:**\nParticles follow trajectories governed by:\n\ndz/dt = -∇℘(z)\n\nThis creates complex flow patterns around poles and zeros of the Weierstrass function."
      }
    },
    {
      "@id": "urn:connection:pq-torus-to-two-panel",
      "@type": ["prov:Entity", "notebook:Connection"],
      "notebook:source": "urn:widget:pq-torus-1",
      "notebook:target": "urn:widget:weierstrass-two-panel-1",
      "notebook:dataFlow": {
        "sourceOutput": "lattice_parameters",
        "targetInput": "lattice_config",
        "transformation": "identity"
      },
      "notebook:visualConnection": {
        "path": "M 400,175 Q 425,150 450,175",
        "arrowhead": "standard",
        "color": "#3498db"
      }
    },
    {
      "@id": "urn:connection:pq-torus-to-five-panel",
      "@type": ["prov:Entity", "notebook:Connection"],
      "notebook:source": "urn:widget:pq-torus-1",
      "notebook:target": "urn:widget:weierstrass-five-panel-1",
      "notebook:dataFlow": {
        "sourceOutput": "lattice_parameters", 
        "targetInput": "lattice_config",
        "transformation": "identity"
      },
      "notebook:visualConnection": {
        "path": "M 250,350 Q 275,375 300,400",
        "arrowhead": "standard",
        "color": "#3498db"
      }
    },
    {
      "@id": "urn:connection:pq-torus-to-trajectories",
      "@type": ["prov:Entity", "notebook:Connection"],
      "notebook:source": "urn:widget:pq-torus-1",
      "notebook:target": "urn:widget:weierstrass-trajectories-1",
      "notebook:dataFlow": {
        "sourceOutput": "lattice_parameters",
        "targetInput": "lattice_config", 
        "transformation": "identity"
      },
      "notebook:visualConnection": {
        "path": "M 400,225 Q 575,300 750,450",
        "arrowhead": "standard",
        "color": "#3498db"
      }
    }
  ],
  "notebook:executionHistory": [
    {
      "timestamp": "2024-01-15T10:45:00Z",
      "widget": "urn:widget:pq-torus-1",
      "action": "compute-lattice",
      "success": true,
      "duration": 2.1
    },
    {
      "timestamp": "2024-01-15T10:45:15Z", 
      "widget": "urn:widget:weierstrass-two-panel-1",
      "action": "render-visualization",
      "success": true,
      "duration": 8.7
    },
    {
      "timestamp": "2024-01-15T10:46:00Z",
      "widget": "urn:widget:weierstrass-five-panel-1", 
      "action": "complete-analysis",
      "success": true,
      "duration": 15.3
    },
    {
      "timestamp": "2024-01-15T10:46:30Z",
      "widget": "urn:widget:weierstrass-trajectories-1",
      "action": "simulate-trajectories", 
      "success": true,
      "duration": 12.1
    }
  ],
  "notebook:metadata": {
    "author": "Mathematical Research Team",
    "version": "1.0.0",
    "tags": ["elliptic-functions", "weierstrass", "prime-lattice", "visualization"],
    "computational_requirements": {
      "memory": "512MB",
      "cpu_cores": 2,
      "estimated_runtime": "45 seconds"
    }
  }
}