{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://litlfred.github.io/notebooks/schema/weierstrass/widget.schema.json",
  "title": "Weierstrass Widget Schema",
  "description": "Schema for Weierstrass â„˜ function widget instances",
  "type": "object",
  "properties": {
    "@context": {
      "type": ["array", "string", "object"],
      "description": "JSON-LD context"
    },
    "@id": {
      "type": "string",
      "description": "Widget instance identifier"
    },
    "@type": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Widget type information"
    },
    "widget_id": {
      "type": "string",
      "description": "Unique widget instance ID"
    },
    "widget_type": {
      "type": "string",
      "enum": ["wp-two-panel", "wp-three-panel", "wp-five-panel", "wp-trajectories", "wp-contours"],
      "description": "Type of Weierstrass widget"
    },
    "input": {
      "$ref": "./input.schema.json",
      "description": "Widget input parameters"
    },
    "output": {
      "$ref": "./output.schema.json", 
      "description": "Widget output results"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "created": {"type": "string", "format": "date-time"},
        "modified": {"type": "string", "format": "date-time"},
        "version": {"type": "string"},
        "author": {"type": "string"},
        "description": {"type": "string"}
      }
    },
    "dependencies": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "source_widget": {"type": "string"},
          "source_path": {"type": "string"},
          "target_path": {"type": "string"}
        }
      }
    },
    "layout": {
      "type": "object",
      "description": "Optional notebook layout information for blackboard positioning",
      "properties": {
        "position": {
          "type": "object",
          "description": "Widget position on infinite blackboard canvas",
          "properties": {
            "x": {"type": "number", "description": "X coordinate relative to origin"},
            "y": {"type": "number", "description": "Y coordinate relative to origin"}
          }
        },
        "size": {
          "type": "object",
          "description": "Widget display dimensions",
          "properties": {
            "width": {"type": "number", "minimum": 200, "maximum": 1200, "default": 350},
            "height": {"type": "number", "minimum": 150, "maximum": 800, "default": 250}
          }
        },
        "z_index": {
          "type": "integer",
          "description": "Widget stacking order",
          "minimum": 0,
          "default": 0
        },
        "locked": {
          "type": "boolean", 
          "description": "Whether widget position/size is locked",
          "default": false
        }
      }
    }
  },
  "required": ["widget_id", "widget_type"],
  "additionalProperties": false
}