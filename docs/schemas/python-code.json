{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://litlfred.github.io/notebooks/schemas/python-code.json",
  "title": "Python Code Widget Schemas",
  "description": "Input and output schemas for the Python code execution widget",
  "definitions": {
    "input": {
      "$id": "#/definitions/input",
      "type": "object",
      "title": "Python Code Input Schema",
      "description": "Input parameters for Python code widget",
      "properties": {
        "code": {
          "type": "string",
          "description": "Python code to execute",
          "default": "# Python code cell\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Create sample data\nx = np.linspace(0, 2*np.pi, 100)\ny = np.sin(x)\n\n# Return result\nresult = {'x': x.tolist(), 'y': y.tolist()}\nprint('Generated sine wave data')"
        },
        "imports": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Additional imports to include",
          "default": ["numpy", "matplotlib.pyplot"]
        },
        "variables": {
          "type": "object",
          "description": "Input variables available to the code",
          "default": {}
        }
      },
      "required": ["code"]
    },
    "output": {
      "$id": "#/definitions/output",
      "type": "object",
      "title": "Python Code Output Schema",
      "description": "Output data from Python code execution",
      "allOf": [
        {"$ref": "https://litlfred.github.io/notebooks/schemas/common.json#/definitions/execution_result"}
      ],
      "properties": {
        "result": {
          "description": "Final result value from code execution"
        },
        "stdout": {
          "type": "string",
          "description": "Printed output from code execution"
        },
        "stderr": {
          "type": "string",
          "description": "Error output if any"
        },
        "variables": {
          "type": "object",
          "description": "All variables defined in the execution context"
        }
      }
    }
  }
}